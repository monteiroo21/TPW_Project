<nav class="bg-white dark:bg-gray-900 w-full z-20 top-0 start-0 border-b border-gray-200 dark:border-gray-600">
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto">
    <a href="/home" class="flex items-center space-x-3 rtl:space-x-reverse">
      <img src="../../../assets/logo-removebg-preview.png" class="h-16 mt-3" alt="CarStandLogo" />
      <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">CarStand</span>
    </a>
    <div *ngIf="!authState?.authenticated" class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
      <a routerLink="/login"
        class="text-white bg-slate-700 hover:bg-slate-900 font-medium rounded-xl text-lg px-5 py-2 text-center">
        Login
      </a>
    </div>
    <div *ngIf="authState?.authenticated"
      class="flex md:order-2 items-center space-x-3 md:space-x-0 rtl:space-x-reverse relative">
      <h1 class="text-lg font-bold text-slate-900 dark:text-white mr-6">
        {{ authState?.username }}
      </h1>

      <button id="avatar-button" (click)="toggleDropdown()" aria-expanded="dropdownOpen"
        class="h-11 w-11 p-0.5 border-4 border-black rounded-full">
        <img src="../../../../assets/user.png" alt="User Avatar" />
      </button>

      <div *ngIf="dropdownOpen"
        class="absolute -right-16 mt-36 w-48 bg-white border border-slate-200 rounded-md shadow-lg z-50 dark:bg-gray-700">
        <a routerLink="/editprofile" (click)="toggleDropdown()"
          class="block px-4 py-2 text-gray-800 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600 rounded-md">
          Profile
        </a>
        <button (click)="openLogoutModal()"
          class="w-full text-left block px-4 py-2 text-gray-800 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600 rounded-md">
          Logout
        </button>
      </div>
    </div>

    <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-sticky">
      <ul
        class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
        <li>
          <a routerLink="/home"
            class="block py-1 px-3 text-slate-800 rounded-2xl hover:bg-slate-800 hover:text-white text-lg">
            Home
          </a>
        </li>
        <li>
          <a routerLink="/cars"
            class="block py-1 px-3 text-slate-800 rounded-2xl hover:bg-slate-800 hover:text-white text-lg">
            Cars
          </a>
        </li>
        <li>
          <a routerLink="/motorbikes"
            class="block py-1 px-3 text-slate-800 rounded-2xl hover:bg-slate-800 hover:text-white text-lg">
            MotorBikes
          </a>
        </li>
        <li>
          <a routerLink="/brands"
            class="block py-1 px-3 text-slate-800 rounded-2xl hover:bg-slate-800 hover:text-white text-lg">
            Brands
          </a>
        </li>
        <li>
          <a routerLink="/groups"
            class="block py-1 px-3 text-slate-800 rounded-2xl hover:bg-slate-800 hover:text-white text-lg">
            Groups
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div *ngIf="isLogoutModalOpen" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
  <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
    <h2 class="text-2xl text-gray-700 dark:text-gray-300">
      Are you sure you want to log out?
    </h2>
    <div class="flex items-center justify-center mt-6 space-x-6">
      <button (click)="closeLogoutModal()" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400">
        Cancel
      </button>
      <button (click)="logout()" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700">
        Logout
      </button>
    </div>
  </div>
</div>